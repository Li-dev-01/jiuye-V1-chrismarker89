# 问卷2 - 社会洞察数据分类与可视化评估报告

## 📋 报告概览

**创建时间**: 2025-01-05  
**报告目的**: 基于问卷2的40个问题，设计社会洞察数据分类，并对比现有可视化页面（v1 vs v2），为最终方案提供决策依据  
**决策目标**: 确定保留的图表类型、数据表设计、静态表需求

---

## 第一部分：问卷2社会洞察数据分类设计

### 1.1 问卷2核心维度分析

基于问卷2的40个问题，我提取出以下**7大社会洞察维度**：

#### 维度1：人口结构与就业画像 👥
**社会意义**: 了解不同人群的就业特征与挑战

**包含问题**（8题）：
- 性别（gender-v2）
- 年龄段（age-range-v2）
- 学历（education-level-v2）
- 婚姻状况（marital-status-v2）
- 是否有子女（has-children-v2）
- 城市层级（current-city-tier-v2）
- 户籍类型（hukou-type-v2）
- 工作年限（years-experience-v2）

**可生成洞察**：
- 📊 不同性别的就业率对比
- 📊 年龄段与失业率的关系
- 📊 学历与薪资的相关性
- 📊 婚育状况对女性就业的影响
- 📊 城市层级与就业机会分布
- 📊 户籍对就业的隐性影响

---

#### 维度2：经济压力与生活成本 💰
**社会意义**: 揭示年轻人的经济生存状况

**包含问题**（7题）：
- 负债情况（debt-situation-v2，多选）
- 每月还款金额（monthly-debt-burden-v2）
- 经济压力程度（economic-pressure-level-v2）
- 每月生活开支（monthly-living-cost-v2）⭐新增
- 收入来源（income-sources-v2，多选）⭐新增
- 父母支援金额（parental-support-amount-v2）⭐新增
- 收支平衡状况（income-expense-balance-v2）⭐新增

**可生成洞察**：
- 📊 **"啃老"现象分析**：按年龄段统计父母支援依赖度
- 📊 **学生 vs 毕业生生活成本跃升**：1000-2000元 → 3000-5000元
- 📊 **负债年轻化趋势**：花呗/信用卡/消费贷占比
- 📊 **收支失衡群体画像**：入不敷出的人群特征
- 📊 **经济压力与就业信心的关系**：高压力→低信心
- 📊 **地域生活成本差异**：一线 vs 三四线城市

---

#### 维度3：就业状态与收入水平 💼
**社会意义**: 反映就业市场的真实状况

**包含问题**（4题）：
- 当前状态（current-status-question-v2）：学生/在职/失业/待业
- 当前月薪（current-salary-v2）
- 薪资负债比（salary-debt-ratio-v2）
- 求职时长（job-search-duration-v2，条件显示）

**可生成洞察**：
- 📊 **失业率统计**：按年龄/学历/城市分组
- 📊 **薪资分布**：不同学历/行业/城市的薪资对比
- 📊 **薪资负债比预警**：超过50%的高风险群体
- 📊 **求职困难度**：求职时长超过6个月的比例
- 📊 **就业质量评估**：薪资与生活成本的匹配度

---

#### 维度4：求职歧视与公平性 ⚖️
**社会意义**: 揭示就业市场的歧视现象

**包含问题**（3题）：
- 经历的歧视类型（experienced-discrimination-types-v2，多选）
- 歧视严重程度（discrimination-severity-v2）
- 歧视发生渠道（discrimination-channels-v2，多选）

**可生成洞察**：
- 📊 **性别歧视现状**：女性遭遇婚育歧视的比例
- 📊 **年龄歧视分析**：35+群体的歧视感知
- 📊 **学历歧视**：高学历 vs 低学历的歧视差异
- 📊 **歧视渠道分布**：招聘网站/面试/背调各环节
- 📊 **歧视对求职的影响**：严重歧视→放弃求职

---

#### 维度5：就业信心与未来预期 🌟
**社会意义**: 反映社会对未来的信心指数

**包含问题**（4题）：
- 就业信心指数（employment-confidence-v2）
- 信心影响因素（confidence-factors-v2，多选）
- 未来规划（future-plans-v2，多选）
- 期望支持类型（support-needed-types-v2，多选）

**可生成洞察**：
- 📊 **就业信心指数趋势**：按时间/地域/年龄统计
- 📊 **信心影响因素排名**：经济压力/歧视/市场环境
- 📊 **未来规划分布**：继续求职/转行/创业/躺平
- 📊 **支持需求分析**：技能培训/心理支持/政策扶持

---

#### 维度6：生育意愿与婚育压力 👶
**社会意义**: 反映生育率下降的深层原因

**包含问题**（2题）：
- 生育计划（fertility-intent-v2，条件显示）
- 婚育歧视细节（marriage-discrimination-detail-v2，条件显示）

**可生成洞察**：
- 📊 **生育意愿下降趋势**：不打算生育的比例
- 📊 **经济压力与生育意愿**：高压力→低生育意愿
- 📊 **婚育歧视对女性就业的影响**：隐孕/被迫离职
- 📊 **生育成本感知**：育儿成本对生育决策的影响

---

#### 维度7：特殊群体细分洞察 🎯
**社会意义**: 关注特定群体的独特挑战

**包含问题**（12题，条件显示）：
- **35+失业群体**：年龄歧视细节、求职困难
- **女性群体**：婚育歧视、生育压力
- **学生群体**：职业规划、实习经历
- **待业群体**：求职时长、求职困难

**可生成洞察**：
- 📊 **35+失业危机**：年龄歧视的严重性
- 📊 **女性就业困境**：婚育歧视的普遍性
- 📊 **学生就业准备度**：实习经历与就业的关系
- 📊 **长期失业群体画像**：求职超过6个月的特征

---

### 1.2 社会洞察数据分类总结

| 维度 | 问题数 | 社会意义 | 优先级 |
|------|--------|----------|--------|
| 人口结构与就业画像 | 8题 | 了解不同人群的就业特征 | ⭐⭐⭐⭐⭐ |
| 经济压力与生活成本 | 7题 | 揭示年轻人的经济生存状况 | ⭐⭐⭐⭐⭐ |
| 就业状态与收入水平 | 4题 | 反映就业市场的真实状况 | ⭐⭐⭐⭐⭐ |
| 求职歧视与公平性 | 3题 | 揭示就业市场的歧视现象 | ⭐⭐⭐⭐ |
| 就业信心与未来预期 | 4题 | 反映社会对未来的信心指数 | ⭐⭐⭐⭐ |
| 生育意愿与婚育压力 | 2题 | 反映生育率下降的深层原因 | ⭐⭐⭐ |
| 特殊群体细分洞察 | 12题 | 关注特定群体的独特挑战 | ⭐⭐⭐⭐ |

---

## 第二部分：现有可视化页面对比分析

### 2.1 Analytics V1（问卷1可视化页面）

**页面路径**: `/analytics`  
**文件**: `frontend/src/pages/analytics/NewQuestionnaireVisualizationPage.tsx`

#### 优势 ✅

1. **完整的6维度Tab布局**
   - 就业概览（employment-overview）
   - 人口统计（demographics）
   - 就业市场（employment-market）
   - 学生准备（student-preparation）
   - 生活成本（living-costs）
   - 政策洞察（policy-insights）

2. **丰富的图表类型**
   - 饼图（Pie Chart）
   - 柱状图（Bar Chart）
   - 折线图（Line Chart）
   - 雷达图（Radar Chart）
   - 散点图（Scatter Chart）

3. **专业的数据展示**
   - 数据质量监控
   - 兼容性报告
   - 数据源切换器
   - 数据源指示器

4. **良好的用户体验**
   - Tab切换流畅
   - 图表交互丰富
   - 数据加载状态清晰

#### 劣势 ❌

1. **数据源失效**
   - 基于问卷1的数据结构
   - API端点已不适用问卷2
   - 数据映射需要重新配置

2. **维度不匹配**
   - 问卷1的6维度与问卷2的7维度不完全对应
   - 缺少"经济压力与生活成本"的深度分析
   - 缺少"求职歧视"的专项分析

3. **图表配置复杂**
   - 需要大量的数据映射配置
   - 维护成本高

---

### 2.2 Analytics V2（问卷2可视化页面）

**页面路径**: `/questionnaire-v2/analytics`  
**文件**: `frontend/src/pages/SecondQuestionnaireAnalyticsPage.tsx`

#### 优势 ✅

1. **优秀的概述设计**
   - 顶部统计卡片（总参与人数/平均信心指数/高压力比例）
   - 一目了然的核心指标

2. **折叠式图表样式**
   - 节省空间
   - 按需展开
   - 适合移动端

3. **混合可视化系统**
   - 集成问卷2的3维度专业分析
   - 集成问卷1的6维度全面分析
   - Tab子页面样式统一

4. **动画效果优秀**
   - 使用framer-motion
   - Tab切换动画流畅
   - 用户体验好

#### 劣势 ❌

1. **维度覆盖不全**
   - 仅3个专业维度（经济压力/就业状态/歧视分析）
   - 缺少人口画像、生育意愿等维度

2. **图表类型单一**
   - 主要是柱状图和饼图
   - 缺少折线图、雷达图等高级图表

3. **数据深度不足**
   - 缺少交叉分析
   - 缺少趋势分析
   - 缺少洞察生成

---

### 2.3 对比总结表

| 维度 | Analytics V1 | Analytics V2 | 推荐 |
|------|--------------|--------------|------|
| **布局设计** | Tab式6维度 | 折叠式+Tab | V2 ✅ |
| **概述设计** | 无 | 统计卡片 | V2 ✅ |
| **图表类型** | 5种（饼/柱/折/雷达/散点） | 2种（饼/柱） | V1 ✅ |
| **数据源** | 问卷1（失效） | 问卷2（有效） | V2 ✅ |
| **维度覆盖** | 6维度（不匹配） | 3维度（不全） | 需扩展 |
| **交互体验** | 良好 | 优秀（动画） | V2 ✅ |
| **移动端适配** | 一般 | 优秀（折叠式） | V2 ✅ |
| **数据深度** | 中等 | 浅层 | V1 ✅ |
| **维护成本** | 高 | 中 | V2 ✅ |

---

## 第三部分：推荐方案与决策建议

### 3.1 推荐方案：融合式可视化系统

**核心思路**: 保留V2的优秀布局和交互，融合V1的丰富图表类型，扩展到问卷2的7大维度

#### 方案架构

```
问卷2可视化页面（融合版）
├── 顶部概述区（保留V2）
│   ├── 总参与人数
│   ├── 平均就业信心指数
│   ├── 高经济压力比例
│   └── 失业率统计
│
├── Tab 1: 人口结构与就业画像 👥（新增）
│   ├── 性别分布（饼图）
│   ├── 年龄段分布（柱状图）
│   ├── 学历分布（饼图）
│   ├── 城市层级分布（柱状图）
│   └── 婚育状况分布（堆叠柱状图）
│
├── Tab 2: 经济压力与生活成本 💰（扩展V2）
│   ├── 生活成本分布（柱状图）⭐新增
│   ├── 父母支援依赖度（饼图）⭐新增
│   ├── 收支平衡状况（堆叠柱状图）⭐新增
│   ├── 负债情况分布（多选柱状图）
│   └── 经济压力程度（饼图）
│
├── Tab 3: 就业状态与收入水平 💼（扩展V2）
│   ├── 就业状态分布（饼图）
│   ├── 薪资分布（柱状图）
│   ├── 失业率趋势（折线图）⭐新增
│   └── 薪资负债比分布（柱状图）
│
├── Tab 4: 求职歧视与公平性 ⚖️（保留V2）
│   ├── 歧视类型分布（多选柱状图）
│   ├── 歧视严重程度（饼图）
│   └── 歧视渠道分布（多选柱状图）
│
├── Tab 5: 就业信心与未来预期 🌟（新增）
│   ├── 就业信心指数分布（柱状图）
│   ├── 信心影响因素（多选柱状图）
│   ├── 未来规划分布（饼图）
│   └── 支持需求分析（多选柱状图）
│
├── Tab 6: 生育意愿与婚育压力 👶（新增）
│   ├── 生育意愿分布（饼图）
│   ├── 经济压力与生育意愿关系（散点图）
│   └── 婚育歧视影响（柱状图）
│
└── Tab 7: 交叉分析与洞察 🔍（新增）
    ├── 年龄×学历×薪资（3D散点图）
    ├── 城市×生活成本×就业率（气泡图）
    └── 经济压力×就业信心（相关性分析）
```

---

### 3.2 需要的静态表设计

基于上述方案，我推荐创建以下**5个静态分析表**：

#### 表1：基础维度统计表（`q2_basic_stats`）

```sql
CREATE TABLE q2_basic_stats (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  dimension VARCHAR(50),      -- 维度名称（gender/age/education等）
  value VARCHAR(100),          -- 维度值（male/female等）
  count INTEGER,               -- 数量
  percentage DECIMAL(5,2),     -- 百分比
  updated_at TIMESTAMP
);
```

**用途**: 支持Tab 1（人口结构）的所有图表

---

#### 表2：经济压力分析表（`q2_economic_analysis`）

```sql
CREATE TABLE q2_economic_analysis (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  age_range VARCHAR(20),
  employment_status VARCHAR(50),
  avg_living_cost DECIMAL(10,2),
  avg_debt_burden DECIMAL(10,2),
  parental_support_rate DECIMAL(5,2),
  high_pressure_rate DECIMAL(5,2),
  count INTEGER,
  updated_at TIMESTAMP
);
```

**用途**: 支持Tab 2（经济压力）的所有图表

---

#### 表3：就业状态分析表（`q2_employment_analysis`）

```sql
CREATE TABLE q2_employment_analysis (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  age_range VARCHAR(20),
  education_level VARCHAR(50),
  city_tier VARCHAR(20),
  employment_status VARCHAR(50),
  avg_salary DECIMAL(10,2),
  unemployment_rate DECIMAL(5,2),
  count INTEGER,
  updated_at TIMESTAMP
);
```

**用途**: 支持Tab 3（就业状态）的所有图表

---

#### 表4：歧视分析表（`q2_discrimination_analysis`）

```sql
CREATE TABLE q2_discrimination_analysis (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  discrimination_type VARCHAR(50),
  gender VARCHAR(20),
  age_range VARCHAR(20),
  severity VARCHAR(20),
  channel VARCHAR(50),
  count INTEGER,
  percentage DECIMAL(5,2),
  updated_at TIMESTAMP
);
```

**用途**: 支持Tab 4（求职歧视）的所有图表

---

#### 表5：交叉分析表（`q2_cross_analysis`）

```sql
CREATE TABLE q2_cross_analysis (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  dimension1 VARCHAR(50),
  value1 VARCHAR(100),
  dimension2 VARCHAR(50),
  value2 VARCHAR(100),
  dimension3 VARCHAR(50),      -- 可选第三维度
  value3 VARCHAR(100),
  metric_name VARCHAR(50),     -- 指标名称（avg_salary/unemployment_rate等）
  metric_value DECIMAL(10,2),
  count INTEGER,
  updated_at TIMESTAMP
);
```

**用途**: 支持Tab 7（交叉分析）的所有图表

---

### 3.3 决策建议

#### 推荐保留的元素

**从V1保留**：
- ✅ 丰富的图表类型（饼/柱/折/雷达/散点）
- ✅ 数据质量监控机制
- ✅ 图表交互功能

**从V2保留**：
- ✅ 顶部概述统计卡片
- ✅ 折叠式图表布局
- ✅ Tab切换动画效果
- ✅ 移动端适配设计

#### 推荐删除的元素

**从V1删除**：
- ❌ 问卷1的数据映射配置
- ❌ 不匹配的6维度结构
- ❌ 复杂的兼容性适配器

**从V2删除**：
- ❌ 仅3维度的简化版本（需扩展到7维度）

---

## 第四部分：实施路线图

### 阶段1：数据基础建设（1-2天）

1. ✅ 创建5个静态分析表
2. ✅ 实现数据同步逻辑（从原始表→静态表）
3. ✅ 配置定时任务（每30分钟同步一次）
4. ✅ 导入250条测试数据

### 阶段2：可视化页面重构（3-4天）

1. ✅ 保留V2的页面框架和布局
2. ✅ 扩展到7个Tab维度
3. ✅ 集成V1的图表类型（折线图/雷达图/散点图）
4. ✅ 实现数据加载和图表渲染

### 阶段3：测试与优化（1-2天）

1. ✅ 测试所有图表的数据准确性
2. ✅ 优化图表交互体验
3. ✅ 移动端适配测试
4. ✅ 性能优化

---

## 第五部分：您的决策清单

请您根据本报告，确认以下决策：

### 决策1：可视化页面方案

- [ ] **方案A**：采用推荐的融合式可视化系统（7个Tab）
- [ ] **方案B**：保留V1的6维度结构
- [ ] **方案C**：保留V2的3维度结构
- [ ] **方案D**：其他方案（请说明）

### 决策2：静态表设计

- [ ] **同意创建5个静态表**（如上所述）
- [ ] **需要调整静态表设计**（请说明）
- [ ] **需要增加其他静态表**（请说明）

### 决策3：问卷1资源处理

- [ ] **删除问卷1的所有静态表和API**
- [ ] **保留问卷1的静态表作为历史数据**
- [ ] **将问卷1的部分资源迁移到问卷2**

### 决策4：实施优先级

- [ ] **立即开始实施**（按照阶段1→2→3）
- [ ] **先完成测试数据生成和导入**
- [ ] **先完成静态表创建和同步**
- [ ] **其他优先级**（请说明）

---

**文档版本**: v1.0  
**创建时间**: 2025-01-05  
**作者**: Augment Agent  
**状态**: 等待用户决策

---

**请您审阅本报告，并告知您的决策，我将立即执行！** 🚀

