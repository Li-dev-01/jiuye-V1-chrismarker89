
# 《开发命名规范文档》

## 1. 总体原则

* **统一性**：同一层级、同一语言、同一功能模块必须使用统一的命名风格。
* **可读性**：命名需直观表达字段/变量/方法的语义，避免缩写和拼音。
* **分层规范**：数据库、后端接口、前端代码各自遵循约定，并在接口层通过统一转换适配。

---

## 2. 各层命名规则

### 2.1 数据库层

* **命名风格**：`snake_case`（下划线小写）。
* **示例**：

  * 表名：`user_account`
  * 字段：`user_type`, `created_at`, `last_login_ip`
* **规则**：

  * 所有表、字段名均小写，单词间以下划线分隔。
  * 时间字段统一使用 `_at` 后缀（如 `created_at`, `updated_at`）。
  * 布尔字段统一使用 `is_` 前缀（如 `is_active`）。

---

### 2.2 后端接口层（API 层）

* **命名风格**：与数据库保持一致，使用 `snake_case`。
* **示例**：

  ```json
  {
    "user_id": 1001,
    "user_type": "admin",
    "created_at": "2025-09-27T12:00:00Z"
  }
  ```
* **规则**：

  * API 返回字段必须与数据库字段一一对应，不进行驼峰转换。
  * 统一使用 OpenAPI/Swagger 文档声明接口字段格式。

---

### 2.3 前端层

* **命名风格**：`camelCase`（小驼峰）。
* **示例**：

  ```ts
  interface User {
    userId: number;
    userType: string;
    createdAt: string;
  }
  ```
* **规则**：

  * 变量、对象属性、函数参数使用 `camelCase`。
  * 组件名、类名使用 `PascalCase`。
  * 常量使用 `UPPER_CASE`。

---

## 3. 接口数据转换规范

* **转换责任**：前端负责在 **API 封装层** 进行字段转换：

  * **请求参数**：`camelCase → snake_case`
  * **响应数据**：`snake_case → camelCase`
* **示例（JavaScript/TypeScript 封装层）：**

  ```ts
  import humps from "humps";

  // 发送请求时
  const requestData = humps.decamelizeKeys({ userId: 1001, userType: "admin" });

  // 接收响应时
  const responseData = humps.camelizeKeys(apiResponse);
  ```

---

## 4. 检查与约束机制

### 4.1 静态检查

* **前端**：使用 ESLint + 自定义规则，禁止在业务层直接使用 `snake_case`。
* **后端**：使用 SonarQube/Checkstyle 确保 API 层命名与数据库保持一致。

### 4.2 Schema 校验

* 使用 OpenAPI/Swagger 生成 Schema，对接口字段进行自动化校验。

### 4.3 自动化测试

* 接口测试需校验：

  * API 返回字段中 **不允许出现 camelCase**。
  * 前端最终处理后的数据对象 **不允许出现 snake_case**。

### 4.4 CI/CD 集成

* 在 CI 流程中加入字段命名扫描脚本：

  * 检查 JSON 响应、Mock 文件命名是否符合规范。
  * 阻止不符合规范的代码合入。

---

## 5. Code Review 检查项

在 Code Review Checklist 中需包含以下检查：

1. 命名风格是否符合分层规范（DB: snake_case / API: snake_case / FE: camelCase）。
2. API 封装层是否正确进行字段转换。
3. 是否存在混用 snake_case 与 camelCase 的情况。
4. 是否有未遵守数据库/时间/布尔字段命名规则的情况。

---

✅ 本规范一经确认，必须在项目启动阶段统一执行，并在开发、测试、上线全过程严格遵守。

---
