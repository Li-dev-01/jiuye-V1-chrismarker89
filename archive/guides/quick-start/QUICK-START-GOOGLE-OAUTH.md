# ğŸš€ Google OAuthå¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

### âš ï¸ å¿…é¡»å®Œæˆï¼šåœ¨Google Cloud Consoleæ·»åŠ å›è°ƒURL

1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. é€‰æ‹©é¡¹ç›®
3. å¯¼èˆªåˆ° "APIå’ŒæœåŠ¡" > "å‡­æ®"
4. æ‰¾åˆ° OAuth 2.0 å®¢æˆ·ç«¯ID: `23546164414-3t3g8n9hvnv4ekjok90co2sm3sfb6mt8.apps.googleusercontent.com`
5. ç‚¹å‡»ç¼–è¾‘
6. åœ¨"å·²è·æˆæƒçš„é‡å®šå‘ URI"ä¸­æ·»åŠ ï¼š

```
https://6d83bdfb.reviewer-admin-dashboard.pages.dev/auth/google/callback
```

7. ä¿å­˜

---

## ğŸ¯ å¿«é€Ÿæµ‹è¯•æµç¨‹

### æ­¥éª¤1: è®¿é—®ç®¡ç†å‘˜ç™»å½•é¡µé¢

**URL**: https://6d83bdfb.reviewer-admin-dashboard.pages.dev/admin/login

### æ­¥éª¤2: ç‚¹å‡»"ä½¿ç”¨ Google è´¦å·ç™»å½•"æŒ‰é’®

### æ­¥éª¤3: é€‰æ‹©Gmailè´¦å·å¹¶æˆæƒ

### æ­¥éª¤4: éªŒè¯ç»“æœ

#### âœ… å¦‚æœæ‚¨çš„Gmailåœ¨ç™½åå•ä¸­

- ç™»å½•æˆåŠŸ
- è‡ªåŠ¨è·³è½¬åˆ°ç®¡ç†å‘˜ä»ªè¡¨æ¿
- æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯

#### âŒ å¦‚æœæ‚¨çš„Gmailä¸åœ¨ç™½åå•ä¸­

- ç™»å½•å¤±è´¥
- æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼š"æ‚¨çš„é‚®ç®±ä¸åœ¨ç™½åå•ä¸­"
- éœ€è¦è”ç³»è¶…çº§ç®¡ç†å‘˜æ·»åŠ åˆ°ç™½åå•

---

## ğŸ” è¶…çº§ç®¡ç†å‘˜ç™½åå•

å½“å‰ç™½åå•ä¸­çš„è¶…çº§ç®¡ç†å‘˜Gmailï¼š

1. chrismarker89@gmail.com
2. aibook2099@gmail.com
3. justpm2099@gmail.com

---

## ğŸ“ æ·»åŠ æ–°ç”¨æˆ·åˆ°ç™½åå•

### æ–¹æ³•1: é€šè¿‡è¶…çº§ç®¡ç†å‘˜è´¦æˆ·ç®¡ç†é¡µé¢

1. ä½¿ç”¨è¶…çº§ç®¡ç†å‘˜Gmailç™»å½•
2. è®¿é—®: https://6d83bdfb.reviewer-admin-dashboard.pages.dev/admin/account-management
3. ç‚¹å‡»"æ·»åŠ ç”¨æˆ·"
4. å¡«å†™ä¿¡æ¯ï¼š
   - Gmailé‚®ç®±: example@gmail.com
   - è§’è‰²: é€‰æ‹©ï¼ˆå®¡æ ¸å‘˜/ç®¡ç†å‘˜/è¶…çº§ç®¡ç†å‘˜ï¼‰
   - æƒé™: å‹¾é€‰éœ€è¦çš„æƒé™
   - å…è®¸è´¦å·å¯†ç ç™»å½•: å¯é€‰
   - ç”¨æˆ·åå’Œå¯†ç : å¦‚æœå…è®¸å¯†ç ç™»å½•ï¼Œéœ€è¦å¡«å†™
5. ä¿å­˜

### æ–¹æ³•2: é€šè¿‡æ•°æ®åº“ç›´æ¥æ·»åŠ 

```sql
INSERT INTO admin_whitelist (
  email, 
  role, 
  permissions, 
  is_active, 
  allow_google_login,
  created_at,
  updated_at
) VALUES (
  'newuser@gmail.com',
  'admin',
  '["review_content", "view_dashboard", "manage_content"]',
  1,
  1,
  datetime('now'),
  datetime('now')
);
```

---

## ğŸŒ æ‰€æœ‰ç™»å½•é¡µé¢

### å®¡æ ¸å‘˜ç™»å½•

- **URL**: https://6d83bdfb.reviewer-admin-dashboard.pages.dev/login
- **æ”¯æŒ**: Google OAuth + è´¦å·å¯†ç 
- **è·³è½¬**: /dashboard

### ç®¡ç†å‘˜ç™»å½•

- **URL**: https://6d83bdfb.reviewer-admin-dashboard.pages.dev/admin/login
- **æ”¯æŒ**: Google OAuth + è´¦å·å¯†ç 
- **è·³è½¬**: /admin/dashboard

### è¶…çº§ç®¡ç†å‘˜ç™»å½•

- **URL**: https://6d83bdfb.reviewer-admin-dashboard.pages.dev/admin/super-login
- **æ”¯æŒ**: Google OAuth + è´¦å·å¯†ç 
- **è·³è½¬**: /admin/super

### ç»Ÿä¸€ç™»å½•é¡µé¢

- **URL**: https://6d83bdfb.reviewer-admin-dashboard.pages.dev/login-unified
- **æ”¯æŒ**: ä¸‰ä¸ªTabé¡µé¢ï¼ˆå®¡æ ¸å‘˜/ç®¡ç†å‘˜/è¶…çº§ç®¡ç†å‘˜ï¼‰
- **åŠŸèƒ½**: Google OAuth + è´¦å·å¯†ç  + 2FA

---

## ğŸ§ª æµ‹è¯•è´¦å·

### è´¦å·å¯†ç ç™»å½•ï¼ˆç”¨äºæµ‹è¯•ï¼‰

| è§’è‰² | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|------|--------|------|------|
| å®¡æ ¸å‘˜ | reviewerA | admin123 | æµ‹è¯•å®¡æ ¸å‘˜è´¦å· |
| ç®¡ç†å‘˜ | admin | admin123 | æµ‹è¯•ç®¡ç†å‘˜è´¦å· |
| è¶…çº§ç®¡ç†å‘˜ | superadmin | admin123 | æµ‹è¯•è¶…çº§ç®¡ç†å‘˜è´¦å· |

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1: ç‚¹å‡»Googleç™»å½•æŒ‰é’®æ²¡æœ‰ååº”

**åŸå› **: å¯èƒ½æ˜¯æµè§ˆå™¨é˜»æ­¢äº†å¼¹å‡ºçª—å£

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. å…è®¸æµè§ˆå™¨å¼¹å‡ºçª—å£
3. åˆ·æ–°é¡µé¢é‡è¯•

### é—®é¢˜2: Google OAuthè¿”å›é”™è¯¯ "redirect_uri_mismatch"

**åŸå› **: å›è°ƒURLæœªåœ¨Google Cloud Consoleä¸­é…ç½®

**è§£å†³æ–¹æ¡ˆ**:
1. è®¿é—®Google Cloud Console
2. æ·»åŠ å›è°ƒURL: `https://6d83bdfb.reviewer-admin-dashboard.pages.dev/auth/google/callback`
3. ä¿å­˜å¹¶ç­‰å¾…å‡ åˆ†é’Ÿç”Ÿæ•ˆ

### é—®é¢˜3: ç™»å½•åæ˜¾ç¤º"æ‚¨çš„é‚®ç®±ä¸åœ¨ç™½åå•ä¸­"

**åŸå› **: æ‚¨çš„Gmailæœªæ·»åŠ åˆ°ç™½åå•

**è§£å†³æ–¹æ¡ˆ**:
1. è”ç³»è¶…çº§ç®¡ç†å‘˜
2. è¯·æ±‚å°†æ‚¨çš„Gmailæ·»åŠ åˆ°ç™½åå•
3. ç­‰å¾…æ·»åŠ å®Œæˆåé‡æ–°ç™»å½•

### é—®é¢˜4: ç™»å½•æˆåŠŸä½†æ²¡æœ‰è·³è½¬

**åŸå› **: å¯èƒ½æ˜¯localStorageæƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’ŒlocalStorage
3. åˆ·æ–°é¡µé¢é‡æ–°ç™»å½•

---

## ğŸ“Š ç™»å½•æµç¨‹å›¾

```
ç”¨æˆ·ç‚¹å‡»"ä½¿ç”¨ Google è´¦å·ç™»å½•"
    â†“
ç”Ÿæˆstateå‚æ•°å¹¶ä¿å­˜åˆ°sessionStorage
    â†“
é‡å®šå‘åˆ°Google OAuthæˆæƒé¡µé¢
    â†“
ç”¨æˆ·é€‰æ‹©Gmailè´¦å·å¹¶æˆæƒ
    â†“
Googleé‡å®šå‘å› /auth/google/callback?code=xxx&state=xxx
    â†“
å‰ç«¯éªŒè¯stateå‚æ•°
    â†“
è°ƒç”¨åç«¯API: POST /api/auth/google/callback
    â†“
åç«¯äº¤æ¢codeè·å–access_token
    â†“
åç«¯è·å–Googleç”¨æˆ·ä¿¡æ¯
    â†“
åç«¯éªŒè¯Gmailæ˜¯å¦åœ¨ç™½åå•ä¸­
    â†“
âœ… åœ¨ç™½åå•ä¸­                    âŒ ä¸åœ¨ç™½åå•ä¸­
    â†“                                â†“
åˆ›å»º/æ›´æ–°ç”¨æˆ·æ•°æ®              è¿”å›403é”™è¯¯
    â†“                                â†“
ç”Ÿæˆä¼šè¯æ•°æ®                    å‰ç«¯æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
    â†“
è¿”å›ç”¨æˆ·æ•°æ®å’Œä¼šè¯ä¿¡æ¯
    â†“
å‰ç«¯ä¿å­˜åˆ°localStorage
    â†“
è·³è½¬åˆ°å¯¹åº”ä»ªè¡¨æ¿
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### ç«‹å³æ‰§è¡Œ

1. âœ… åœ¨Google Cloud Consoleæ·»åŠ å›è°ƒURL
2. âœ… ä½¿ç”¨è¶…çº§ç®¡ç†å‘˜Gmailæµ‹è¯•ç™»å½•
3. âœ… åˆ›å»ºæµ‹è¯•è´¦æˆ·
4. âœ… æµ‹è¯•ä¸åŒè§’è‰²çš„ç™»å½•æµç¨‹

### æ¨èé…ç½®

1. ä¸ºè¶…çº§ç®¡ç†å‘˜å¯ç”¨2FA
2. æ·»åŠ æ›´å¤šå®¡æ ¸å‘˜å’Œç®¡ç†å‘˜åˆ°ç™½åå•
3. é…ç½®æƒé™ç­–ç•¥
4. å®šæœŸå®¡æŸ¥å®¡è®¡æ—¥å¿—

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»è¶…çº§ç®¡ç†å‘˜ï¼š

- chrismarker89@gmail.com
- aibook2099@gmail.com
- justpm2099@gmail.com

---

**å¿«é€Ÿå¼€å§‹æŒ‡å—å®Œæˆï¼** âœ…

ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨Gmailè´¦å·ä¸€é”®ç™»å½•ç®¡ç†åå°äº†ï¼

