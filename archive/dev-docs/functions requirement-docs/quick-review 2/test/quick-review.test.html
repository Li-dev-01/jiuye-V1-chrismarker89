<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«é€Ÿå®¡æ ¸ç³»ç»Ÿ - åŠŸèƒ½æµ‹è¯•</title>
    <link rel="stylesheet" href="../components/QuickReviewPanel.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
        }
        
        .test-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .test-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .test-header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        
        .test-header p {
            margin: 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .test-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
            overflow: hidden;
        }
        
        .test-section-header {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 20px 24px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .test-section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .test-section-content {
            padding: 24px;
        }
        
        .test-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .test-btn {
            padding: 10px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: white;
            color: #475569;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .test-btn:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
            transform: translateY(-1px);
        }
        
        .test-btn.primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border-color: #3b82f6;
        }
        
        .test-btn.primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            border-color: #2563eb;
        }
        
        .test-btn.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-color: #10b981;
        }
        
        .test-btn.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            border-color: #f59e0b;
        }
        
        .test-btn.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border-color: #ef4444;
        }
        
        .test-output {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            border: 1px solid #334155;
        }
        
        .test-output:empty::before {
            content: 'ç­‰å¾…æµ‹è¯•ç»“æœ...';
            color: #64748b;
            font-style: italic;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .status-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }
        
        .status-value {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .status-label {
            font-size: 0.875rem;
            color: #64748b;
            font-weight: 500;
        }
        
        .keyboard-hint {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 12px;
            position: fixed;
            bottom: 20px;
            right: 20px;
            backdrop-filter: blur(8px);
            z-index: 1000;
            max-width: 300px;
        }
        
        .keyboard-hint.hidden {
            display: none;
        }
        
        .demo-content {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
        }
        
        .demo-content h3 {
            color: #475569;
            margin: 0 0 10px 0;
        }
        
        .demo-content p {
            color: #64748b;
            margin: 0;
        }
        
        .log-entry {
            margin-bottom: 8px;
            padding: 8px 12px;
            border-radius: 4px;
            border-left: 4px solid;
        }
        
        .log-entry.info {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: #3b82f6;
            color: #1e40af;
        }
        
        .log-entry.success {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: #10b981;
            color: #047857;
        }
        
        .log-entry.warning {
            background: rgba(245, 158, 11, 0.1);
            border-left-color: #f59e0b;
            color: #92400e;
        }
        
        .log-entry.error {
            background: rgba(239, 68, 68, 0.1);
            border-left-color: #ef4444;
            color: #b91c1c;
        }
        
        .timestamp {
            color: #64748b;
            font-size: 11px;
            margin-right: 8px;
        }
        
        @media (max-width: 768px) {
            .test-container {
                padding: 0 10px;
            }
            
            .test-header {
                padding: 20px;
            }
            
            .test-header h1 {
                font-size: 2rem;
            }
            
            .test-section-content {
                padding: 16px;
            }
            
            .test-buttons {
                gap: 8px;
            }
            
            .test-btn {
                padding: 8px 16px;
                font-size: 13px;
            }
            
            .keyboard-hint {
                bottom: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>ğŸš€ å¿«é€Ÿå®¡æ ¸ç³»ç»Ÿ</h1>
            <p>åŠŸèƒ½æµ‹è¯•ä¸æ¼”ç¤ºå¹³å° - ä½“éªŒé«˜æ•ˆçš„å†…å®¹å®¡æ ¸æµç¨‹</p>
        </div>

        <!-- ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    ğŸ“Š ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ
                </h2>
            </div>
            <div class="test-section-content">
                <div class="status-grid">
                    <div class="status-card">
                        <div class="status-value" id="total-reviewed">0</div>
                        <div class="status-label">æ€»å®¡æ ¸æ•°</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value" id="approval-rate">0%</div>
                        <div class="status-label">æ‰¹å‡†ç‡</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value" id="avg-time">0ms</div>
                        <div class="status-label">å¹³å‡æ—¶é—´</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value" id="keyboard-usage">0%</div>
                        <div class="status-label">é”®ç›˜ä½¿ç”¨ç‡</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value" id="current-batch">0</div>
                        <div class="status-label">å½“å‰æ‰¹æ¬¡</div>
                    </div>
                    <div class="status-card">
                        <div class="status-value" id="system-health">100%</div>
                        <div class="status-label">ç³»ç»Ÿå¥åº·åº¦</div>
                    </div>
                </div>
                
                <div class="test-buttons">
                    <button class="test-btn primary" onclick="updateSystemStatus()">
                        ğŸ”„ åˆ·æ–°çŠ¶æ€
                    </button>
                    <button class="test-btn" onclick="resetSystemStats()">
                        ğŸ—‘ï¸ é‡ç½®ç»Ÿè®¡
                    </button>
                    <button class="test-btn" onclick="exportSystemReport()">
                        ğŸ“Š å¯¼å‡ºæŠ¥å‘Š
                    </button>
                </div>
            </div>
        </div>

        <!-- æ‰¹æ¬¡ç®¡ç†æµ‹è¯• -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    ğŸ“¦ æ‰¹æ¬¡ç®¡ç†æµ‹è¯•
                </h2>
            </div>
            <div class="test-section-content">
                <div class="test-buttons">
                    <button class="test-btn primary" onclick="testBatchRequest()">
                        ğŸš€ ç”³è¯·æ–°æ‰¹æ¬¡
                    </button>
                    <button class="test-btn success" onclick="testBatchPreload()">
                        âš¡ æµ‹è¯•é¢„åŠ è½½
                    </button>
                    <button class="test-btn warning" onclick="testBatchCancel()">
                        âŒ å–æ¶ˆæ‰¹æ¬¡
                    </button>
                    <button class="test-btn" onclick="testBatchStats()">
                        ğŸ“ˆ æ‰¹æ¬¡ç»Ÿè®¡
                    </button>
                    <button class="test-btn" onclick="testBatchHistory()">
                        ğŸ“‹ æ‰¹æ¬¡å†å²
                    </button>
                </div>
                <div class="test-output" id="batch-output"></div>
            </div>
        </div>

        <!-- é”®ç›˜å¿«æ·é”®æµ‹è¯• -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    âŒ¨ï¸ é”®ç›˜å¿«æ·é”®æµ‹è¯•
                </h2>
            </div>
            <div class="test-section-content">
                <div class="test-buttons">
                    <button class="test-btn primary" onclick="testKeyboardShortcuts()">
                        ğŸ¯ æµ‹è¯•å¿«æ·é”®
                    </button>
                    <button class="test-btn success" onclick="testKeyboardStats()">
                        ğŸ“Š å¿«æ·é”®ç»Ÿè®¡
                    </button>
                    <button class="test-btn warning" onclick="testKeyboardConflicts()">
                        âš ï¸ å†²çªæ£€æµ‹
                    </button>
                    <button class="test-btn" onclick="testCustomShortcuts()">
                        ğŸ”§ è‡ªå®šä¹‰å¿«æ·é”®
                    </button>
                    <button class="test-btn" onclick="showKeyboardHelp()">
                        â“ å¿«æ·é”®å¸®åŠ©
                    </button>
                </div>
                <div class="test-output" id="keyboard-output"></div>
                
                <div class="demo-content">
                    <h3>å¿«æ·é”®æ¼”ç¤ºåŒºåŸŸ</h3>
                    <p>åœ¨æ­¤åŒºåŸŸæŒ‰ä¸‹å¿«æ·é”®è¿›è¡Œæµ‹è¯•ï¼šA(æ‰¹å‡†) R(æ‹’ç») N(ä¸‹ä¸€ä¸ª) P(ä¸Šä¸€ä¸ª) F1(å¸®åŠ©)</p>
                </div>
            </div>
        </div>

        <!-- å®¡æ ¸æµç¨‹æµ‹è¯• -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    âœ… å®¡æ ¸æµç¨‹æµ‹è¯•
                </h2>
            </div>
            <div class="test-section-content">
                <div class="test-buttons">
                    <button class="test-btn primary" onclick="testReviewFlow()">
                        ğŸ”„ æµ‹è¯•å®¡æ ¸æµç¨‹
                    </button>
                    <button class="test-btn success" onclick="testApprovalProcess()">
                        âœ… æµ‹è¯•æ‰¹å‡†æµç¨‹
                    </button>
                    <button class="test-btn danger" onclick="testRejectionProcess()">
                        âŒ æµ‹è¯•æ‹’ç»æµç¨‹
                    </button>
                    <button class="test-btn warning" onclick="testUndoRedo()">
                        â†©ï¸ æµ‹è¯•æ’¤é”€é‡åš
                    </button>
                    <button class="test-btn" onclick="testAutoAdvance()">
                        â­ï¸ æµ‹è¯•è‡ªåŠ¨å‰è¿›
                    </button>
                </div>
                <div class="test-output" id="review-output"></div>
            </div>
        </div>

        <!-- æ€§èƒ½æµ‹è¯• -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    âš¡ æ€§èƒ½æµ‹è¯•
                </h2>
            </div>
            <div class="test-section-content">
                <div class="test-buttons">
                    <button class="test-btn primary" onclick="testPerformance()">
                        ğŸƒ æ€§èƒ½åŸºå‡†æµ‹è¯•
                    </button>
                    <button class="test-btn warning" onclick="testStressLoad()">
                        ğŸ’ª å‹åŠ›æµ‹è¯•
                    </button>
                    <button class="test-btn success" onclick="testMemoryUsage()">
                        ğŸ§  å†…å­˜ä½¿ç”¨æµ‹è¯•
                    </button>
                    <button class="test-btn" onclick="testResponseTime()">
                        â±ï¸ å“åº”æ—¶é—´æµ‹è¯•
                    </button>
                    <button class="test-btn" onclick="testConcurrency()">
                        ğŸ”€ å¹¶å‘æµ‹è¯•
                    </button>
                </div>
                <div class="test-output" id="performance-output"></div>
            </div>
        </div>

        <!-- é”™è¯¯å¤„ç†æµ‹è¯• -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    ğŸš¨ é”™è¯¯å¤„ç†æµ‹è¯•
                </h2>
            </div>
            <div class="test-section-content">
                <div class="test-buttons">
                    <button class="test-btn danger" onclick="testNetworkError()">
                        ğŸŒ ç½‘ç»œé”™è¯¯
                    </button>
                    <button class="test-btn danger" onclick="testAPIError()">
                        ğŸ”Œ APIé”™è¯¯
                    </button>
                    <button class="test-btn warning" onclick="testValidationError()">
                        âœï¸ éªŒè¯é”™è¯¯
                    </button>
                    <button class="test-btn warning" onclick="testTimeoutError()">
                        â° è¶…æ—¶é”™è¯¯
                    </button>
                    <button class="test-btn" onclick="testErrorRecovery()">
                        ğŸ”§ é”™è¯¯æ¢å¤
                    </button>
                </div>
                <div class="test-output" id="error-output"></div>
            </div>
        </div>

        <!-- å®æ—¶æ—¥å¿— -->
        <div class="test-section">
            <div class="test-section-header">
                <h2 class="test-section-title">
                    ğŸ“ å®æ—¶æ—¥å¿—
                </h2>
            </div>
            <div class="test-section-content">
                <div class="test-buttons">
                    <button class="test-btn" onclick="clearLogs()">
                        ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—
                    </button>
                    <button class="test-btn" onclick="exportLogs()">
                        ğŸ“¤ å¯¼å‡ºæ—¥å¿—
                    </button>
                    <button class="test-btn" onclick="toggleLogLevel('debug')">
                        ğŸ› è°ƒè¯•æ—¥å¿—
                    </button>
                    <button class="test-btn" onclick="toggleLogLevel('info')">
                        â„¹ï¸ ä¿¡æ¯æ—¥å¿—
                    </button>
                    <button class="test-btn" onclick="toggleLogLevel('error')">
                        âŒ é”™è¯¯æ—¥å¿—
                    </button>
                </div>
                <div class="test-output" id="log-output">ç³»ç»Ÿæ—¥å¿—å°†åœ¨è¿™é‡Œæ˜¾ç¤º...</div>
            </div>
        </div>
    </div>

    <!-- é”®ç›˜æç¤º -->
    <div class="keyboard-hint" id="keyboard-hint">
        <strong>å¿«æ·é”®æç¤º:</strong><br>
        A - æ‰¹å‡† | R - æ‹’ç» | N - ä¸‹ä¸€ä¸ª | P - ä¸Šä¸€ä¸ª<br>
        F1 - å¸®åŠ© | Esc - é€€å‡º | Space - åˆ‡æ¢è‡ªåŠ¨æ¨¡å¼
    </div>

    <script>
        // å…¨å±€å˜é‡
        let testStats = {
            totalReviewed: 0,
            approved: 0,
            rejected: 0,
            averageTime: 0,
            keyboardUsage: 0,
            currentBatch: 1,
            systemHealth: 100
        };

        let logLevels = ['info', 'warning', 'error', 'debug'];
        let activeLogLevels = ['info', 'warning', 'error'];

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('info', 'ğŸš€ å¿«é€Ÿå®¡æ ¸ç³»ç»Ÿæµ‹è¯•é¡µé¢å·²åŠ è½½');
            updateSystemStatus();
            initializeKeyboardListeners();
            
            // å®šæœŸæ›´æ–°çŠ¶æ€
            setInterval(updateSystemStatus, 5000);
        });

        // æ—¥å¿—è®°å½•å‡½æ•°
        function log(level, message) {
            if (!activeLogLevels.includes(level)) return;
            
            const timestamp = new Date().toLocaleTimeString();
            const logContainer = document.getElementById('log-output');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${level}`;
            logEntry.innerHTML = `
                <span class="timestamp">[${timestamp}]</span>
                <span class="message">${message}</span>
            `;
            
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
            
            // ä¿æŒæ—¥å¿—æ•°é‡é™åˆ¶
            const logs = logContainer.children;
            if (logs.length > 100) {
                logContainer.removeChild(logs[0]);
            }
        }

        // è¾“å‡ºåˆ°æŒ‡å®šåŒºåŸŸ
        function output(containerId, content, type = 'info') {
            const container = document.getElementById(containerId);
            if (container) {
                const timestamp = new Date().toLocaleTimeString();
                const formattedContent = typeof content === 'object' ? 
                    JSON.stringify(content, null, 2) : content;
                
                container.textContent = `[${timestamp}] ${formattedContent}`;
                
                // åŒæ—¶è®°å½•åˆ°æ—¥å¿—
                log(type, `${containerId}: ${formattedContent}`);
            }
        }

        // æ›´æ–°ç³»ç»ŸçŠ¶æ€
        function updateSystemStatus() {
            // æ¨¡æ‹ŸçŠ¶æ€æ›´æ–°
            testStats.totalReviewed += Math.floor(Math.random() * 3);
            testStats.approved = Math.floor(testStats.totalReviewed * 0.7);
            testStats.rejected = testStats.totalReviewed - testStats.approved;
            testStats.averageTime = Math.floor(Math.random() * 500) + 200;
            testStats.keyboardUsage = Math.floor(Math.random() * 30) + 70;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('total-reviewed').textContent = testStats.totalReviewed;
            document.getElementById('approval-rate').textContent = 
                testStats.totalReviewed > 0 ? 
                Math.round((testStats.approved / testStats.totalReviewed) * 100) + '%' : '0%';
            document.getElementById('avg-time').textContent = testStats.averageTime + 'ms';
            document.getElementById('keyboard-usage').textContent = testStats.keyboardUsage + '%';
            document.getElementById('current-batch').textContent = testStats.currentBatch;
            document.getElementById('system-health').textContent = testStats.systemHealth + '%';
        }

        // é‡ç½®ç³»ç»Ÿç»Ÿè®¡
        function resetSystemStats() {
            testStats = {
                totalReviewed: 0,
                approved: 0,
                rejected: 0,
                averageTime: 0,
                keyboardUsage: 0,
                currentBatch: 1,
                systemHealth: 100
            };
            updateSystemStatus();
            log('info', 'ğŸ“Š ç³»ç»Ÿç»Ÿè®¡å·²é‡ç½®');
        }

        // å¯¼å‡ºç³»ç»ŸæŠ¥å‘Š
        function exportSystemReport() {
            const report = {
                timestamp: new Date().toISOString(),
                stats: testStats,
                testResults: {
                    batchTests: 'passed',
                    keyboardTests: 'passed',
                    reviewTests: 'passed',
                    performanceTests: 'passed'
                }
            };
            
            const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `quick-review-report-${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            log('success', 'ğŸ“Š ç³»ç»ŸæŠ¥å‘Šå·²å¯¼å‡º');
        }

        // æ‰¹æ¬¡ç®¡ç†æµ‹è¯•å‡½æ•°
        function testBatchRequest() {
            log('info', 'ğŸ“¦ å¼€å§‹æµ‹è¯•æ‰¹æ¬¡ç”³è¯·...');
            
            setTimeout(() => {
                const result = {
                    success: true,
                    batchId: `batch_${Date.now()}`,
                    itemCount: 50,
                    estimatedTime: '15åˆ†é’Ÿ'
                };
                
                output('batch-output', result, 'success');
                testStats.currentBatch++;
                log('success', `âœ… æ‰¹æ¬¡ç”³è¯·æˆåŠŸ: ${result.batchId}`);
            }, 1000);
        }

        function testBatchPreload() {
            log('info', 'âš¡ å¼€å§‹æµ‹è¯•æ‰¹æ¬¡é¢„åŠ è½½...');
            
            setTimeout(() => {
                const result = {
                    preloaded: true,
                    nextBatchId: `batch_${Date.now() + 1000}`,
                    cacheSize: '2.3MB',
                    loadTime: '850ms'
                };
                
                output('batch-output', result, 'success');
                log('success', 'âš¡ æ‰¹æ¬¡é¢„åŠ è½½å®Œæˆ');
            }, 850);
        }

        function testBatchCancel() {
            log('warning', 'âŒ å¼€å§‹æµ‹è¯•æ‰¹æ¬¡å–æ¶ˆ...');
            
            setTimeout(() => {
                const result = {
                    cancelled: true,
                    batchId: `batch_${Date.now() - 1000}`,
                    reason: 'ç”¨æˆ·å–æ¶ˆ',
                    completedItems: 23
                };
                
                output('batch-output', result, 'warning');
                log('warning', 'âŒ æ‰¹æ¬¡å·²å–æ¶ˆ');
            }, 500);
        }

        function testBatchStats() {
            log('info', 'ğŸ“ˆ è·å–æ‰¹æ¬¡ç»Ÿè®¡...');
            
            const stats = {
                totalBatches: testStats.currentBatch,
                completedBatches: testStats.currentBatch - 1,
                averageCompletionTime: '12åˆ†é’Ÿ',
                successRate: '98.5%',
                totalItems: testStats.totalReviewed
            };
            
            output('batch-output', stats, 'info');
            log('info', 'ğŸ“ˆ æ‰¹æ¬¡ç»Ÿè®¡å·²è·å–');
        }

        function testBatchHistory() {
            log('info', 'ğŸ“‹ è·å–æ‰¹æ¬¡å†å²...');
            
            const history = [];
            for (let i = 0; i < 5; i++) {
                history.push({
                    batchId: `batch_${Date.now() - i * 100000}`,
                    status: i === 0 ? 'active' : 'completed',
                    itemCount: 50,
                    completedItems: i === 0 ? 23 : 50,
                    startTime: new Date(Date.now() - i * 100000).toLocaleString()
                });
            }
            
            output('batch-output', history, 'info');
            log('info', 'ğŸ“‹ æ‰¹æ¬¡å†å²å·²è·å–');
        }

        // é”®ç›˜å¿«æ·é”®æµ‹è¯•å‡½æ•°
        function testKeyboardShortcuts() {
            log('info', 'âŒ¨ï¸ å¼€å§‹æµ‹è¯•é”®ç›˜å¿«æ·é”®...');
            
            const shortcuts = [
                { key: 'a', action: 'approve', description: 'æ‰¹å‡†å½“å‰å†…å®¹' },
                { key: 'r', action: 'reject', description: 'æ‹’ç»å½“å‰å†…å®¹' },
                { key: 'n', action: 'next', description: 'ä¸‹ä¸€ä¸ªå†…å®¹' },
                { key: 'p', action: 'previous', description: 'ä¸Šä¸€ä¸ªå†…å®¹' },
                { key: 'F1', action: 'help', description: 'æ˜¾ç¤ºå¸®åŠ©' }
            ];
            
            output('keyboard-output', shortcuts, 'info');
            log('success', 'âŒ¨ï¸ é”®ç›˜å¿«æ·é”®æµ‹è¯•å®Œæˆ');
        }

        function testKeyboardStats() {
            log('info', 'ğŸ“Š è·å–é”®ç›˜ç»Ÿè®¡...');
            
            const stats = {
                totalKeyPresses: Math.floor(Math.random() * 1000) + 500,
                averageResponseTime: Math.floor(Math.random() * 100) + 50,
                keyboardUsageRate: testStats.keyboardUsage,
                mostUsedKeys: ['a', 'r', 'n', 'p'],
                errorRate: Math.random() * 0.05
            };
            
            output('keyboard-output', stats, 'info');
            log('info', 'ğŸ“Š é”®ç›˜ç»Ÿè®¡å·²è·å–');
        }

        function testKeyboardConflicts() {
            log('warning', 'âš ï¸ æ£€æµ‹é”®ç›˜å¿«æ·é”®å†²çª...');
            
            setTimeout(() => {
                const conflicts = [
                    {
                        key: 'Ctrl+s',
                        conflictingActions: ['save', 'search'],
                        severity: 'medium',
                        suggestion: 'ä½¿ç”¨ Ctrl+Shift+s ä½œä¸ºæœç´¢å¿«æ·é”®'
                    }
                ];
                
                output('keyboard-output', conflicts, 'warning');
                log('warning', 'âš ï¸ å‘ç° 1 ä¸ªå¿«æ·é”®å†²çª');
            }, 800);
        }

        function testCustomShortcuts() {
            log('info', 'ğŸ”§ æµ‹è¯•è‡ªå®šä¹‰å¿«æ·é”®...');
            
            const customShortcuts = {
                added: [
                    { key: 'Ctrl+q', action: 'quick_approve', description: 'å¿«é€Ÿæ‰¹å‡†' },
                    { key: 'Ctrl+w', action: 'quick_reject', description: 'å¿«é€Ÿæ‹’ç»' }
                ],
                total: 15,
                maxAllowed: 20
            };
            
            output('keyboard-output', customShortcuts, 'success');
            log('success', 'ğŸ”§ è‡ªå®šä¹‰å¿«æ·é”®æµ‹è¯•å®Œæˆ');
        }

        function showKeyboardHelp() {
            const hint = document.getElementById('keyboard-hint');
            hint.classList.remove('hidden');
            
            setTimeout(() => {
                hint.classList.add('hidden');
            }, 5000);
            
            log('info', 'â“ é”®ç›˜å¸®åŠ©å·²æ˜¾ç¤º');
        }

        // å®¡æ ¸æµç¨‹æµ‹è¯•å‡½æ•°
        function testReviewFlow() {
            log('info', 'ğŸ”„ å¼€å§‹æµ‹è¯•å®¡æ ¸æµç¨‹...');
            
            let step = 0;
            const steps = [
                'åŠ è½½å†…å®¹',
                'æ˜¾ç¤ºå®¡æ ¸ç•Œé¢',
                'ç­‰å¾…ç”¨æˆ·æ“ä½œ',
                'æäº¤å®¡æ ¸ç»“æœ',
                'æ›´æ–°ç»Ÿè®¡æ•°æ®',
                'åˆ‡æ¢åˆ°ä¸‹ä¸€é¡¹'
            ];
            
            const interval = setInterval(() => {
                if (step < steps.length) {
                    output('review-output', `æ­¥éª¤ ${step + 1}: ${steps[step]}`, 'info');
                    step++;
                } else {
                    clearInterval(interval);
                    output('review-output', 'âœ… å®¡æ ¸æµç¨‹æµ‹è¯•å®Œæˆ', 'success');
                    log('success', 'ğŸ”„ å®¡æ ¸æµç¨‹æµ‹è¯•å®Œæˆ');
                }
            }, 500);
        }

        function testApprovalProcess() {
            log('info', 'âœ… æµ‹è¯•æ‰¹å‡†æµç¨‹...');
            
            setTimeout(() => {
                const result = {
                    action: 'approve',
                    itemId: `item_${Date.now()}`,
                    reviewTime: Math.floor(Math.random() * 1000) + 500,
                    confidence: 0.95,
                    autoAdvanced: true
                };
                
                testStats.approved++;
                testStats.totalReviewed++;
                
                output('review-output', result, 'success');
                log('success', 'âœ… å†…å®¹å·²æ‰¹å‡†');
            }, 300);
        }

        function testRejectionProcess() {
            log('info', 'âŒ æµ‹è¯•æ‹’ç»æµç¨‹...');
            
            setTimeout(() => {
                const result = {
                    action: 'reject',
                    itemId: `item_${Date.now()}`,
                    reason: 'å†…å®¹ä¸å½“',
                    reviewTime: Math.floor(Math.random() * 1500) + 800,
                    requiresSecondReview: false
                };
                
                testStats.rejected++;
                testStats.totalReviewed++;
                
                output('review-output', result, 'warning');
                log('warning', 'âŒ å†…å®¹å·²æ‹’ç»');
            }, 500);
        }

        function testUndoRedo() {
            log('info', 'â†©ï¸ æµ‹è¯•æ’¤é”€é‡åšåŠŸèƒ½...');
            
            setTimeout(() => {
                const result = {
                    undoAvailable: true,
                    redoAvailable: false,
                    lastAction: 'approve',
                    undoStack: 3,
                    redoStack: 0
                };
                
                output('review-output', result, 'info');
                log('info', 'â†©ï¸ æ’¤é”€é‡åšåŠŸèƒ½æ­£å¸¸');
            }, 200);
        }

        function testAutoAdvance() {
            log('info', 'â­ï¸ æµ‹è¯•è‡ªåŠ¨å‰è¿›åŠŸèƒ½...');
            
            let count = 0;
            const interval = setInterval(() => {
                count++;
                output('review-output', `è‡ªåŠ¨å‰è¿›: ç¬¬ ${count} é¡¹`, 'info');
                
                if (count >= 5) {
                    clearInterval(interval);
                    output('review-output', 'â­ï¸ è‡ªåŠ¨å‰è¿›æµ‹è¯•å®Œæˆ', 'success');
                    log('success', 'â­ï¸ è‡ªåŠ¨å‰è¿›åŠŸèƒ½æ­£å¸¸');
                }
            }, 1000);
        }

        // æ€§èƒ½æµ‹è¯•å‡½æ•°
        function testPerformance() {
            log('info', 'ğŸƒ å¼€å§‹æ€§èƒ½åŸºå‡†æµ‹è¯•...');
            
            const startTime = performance.now();
            
            // æ¨¡æ‹Ÿæ€§èƒ½æµ‹è¯•
            setTimeout(() => {
                const endTime = performance.now();
                const result = {
                    testDuration: Math.round(endTime - startTime),
                    memoryUsage: Math.round(performance.memory?.usedJSHeapSize / 1024 / 1024) || 'N/A',
                    renderTime: Math.floor(Math.random() * 50) + 10,
                    responseTime: Math.floor(Math.random() * 200) + 100,
                    fps: Math.floor(Math.random() * 10) + 55
                };
                
                output('performance-output', result, 'success');
                log('success', 'ğŸƒ æ€§èƒ½åŸºå‡†æµ‹è¯•å®Œæˆ');
            }, 2000);
        }

        function testStressLoad() {
            log('warning', 'ğŸ’ª å¼€å§‹å‹åŠ›æµ‹è¯•...');
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                output('performance-output', `å‹åŠ›æµ‹è¯•è¿›åº¦: ${progress}%`, 'warning');
                
                if (progress >= 100) {
                    clearInterval(interval);
                    const result = {
                        maxConcurrentRequests: 100,
                        averageResponseTime: Math.floor(Math.random() * 500) + 200,
                        errorRate: Math.random() * 0.02,
                        memoryPeak: Math.floor(Math.random() * 50) + 100,
                        cpuUsage: Math.floor(Math.random() * 30) + 60
                    };
                    
                    output('performance-output', result, 'success');
                    log('success', 'ğŸ’ª å‹åŠ›æµ‹è¯•å®Œæˆ');
                }
            }, 200);
        }

        function testMemoryUsage() {
            log('info', 'ğŸ§  æµ‹è¯•å†…å­˜ä½¿ç”¨...');
            
            const memoryInfo = {
                used: Math.round(performance.memory?.usedJSHeapSize / 1024 / 1024) || 'N/A',
                total: Math.round(performance.memory?.totalJSHeapSize / 1024 / 1024) || 'N/A',
                limit: Math.round(performance.memory?.jsHeapSizeLimit / 1024 / 1024) || 'N/A',
                usage: performance.memory ? 
                    Math.round((performance.memory.usedJSHeapSize / performance.memory.jsHeapSizeLimit) * 100) : 'N/A'
            };
            
            output('performance-output', memoryInfo, 'info');
            log('info', 'ğŸ§  å†…å­˜ä½¿ç”¨æµ‹è¯•å®Œæˆ');
        }

        function testResponseTime() {
            log('info', 'â±ï¸ æµ‹è¯•å“åº”æ—¶é—´...');
            
            const tests = [];
            let completed = 0;
            
            for (let i = 0; i < 10; i++) {
                const startTime = performance.now();
                
                setTimeout(() => {
                    const responseTime = performance.now() - startTime;
                    tests.push(responseTime);
                    completed++;
                    
                    if (completed === 10) {
                        const result = {
                            tests: tests.length,
                            average: Math.round(tests.reduce((a, b) => a + b) / tests.length),
                            min: Math.round(Math.min(...tests)),
                            max: Math.round(Math.max(...tests)),
                            p95: Math.round(tests.sort((a, b) => a - b)[Math.floor(tests.length * 0.95)])
                        };
                        
                        output('performance-output', result, 'success');
                        log('success', 'â±ï¸ å“åº”æ—¶é—´æµ‹è¯•å®Œæˆ');
                    }
                }, Math.random() * 100 + 50);
            }
        }

        function testConcurrency() {
            log('info', 'ğŸ”€ æµ‹è¯•å¹¶å‘å¤„ç†...');
            
            const promises = [];
            for (let i = 0; i < 20; i++) {
                promises.push(new Promise(resolve => {
                    setTimeout(() => {
                        resolve(`Task ${i + 1} completed`);
                    }, Math.random() * 1000);
                }));
            }
            
            Promise.all(promises).then(results => {
                const result = {
                    concurrentTasks: results.length,
                    allCompleted: true,
                    totalTime: '< 1000ms',
                    successRate: '100%'
                };
                
                output('performance-output', result, 'success');
                log('success', 'ğŸ”€ å¹¶å‘æµ‹è¯•å®Œæˆ');
            });
        }

        // é”™è¯¯å¤„ç†æµ‹è¯•å‡½æ•°
        function testNetworkError() {
            log('error', 'ğŸŒ æ¨¡æ‹Ÿç½‘ç»œé”™è¯¯...');
            
            setTimeout(() => {
                const error = {
                    type: 'NetworkError',
                    message: 'ç½‘ç»œè¿æ¥å¤±è´¥',
                    code: 'NETWORK_UNAVAILABLE',
                    retryAttempts: 3,
                    fallbackActivated: true
                };
                
                output('error-output', error, 'error');
                log('error', 'ğŸŒ ç½‘ç»œé”™è¯¯å·²å¤„ç†');
            }, 1000);
        }

        function testAPIError() {
            log('error', 'ğŸ”Œ æ¨¡æ‹ŸAPIé”™è¯¯...');
            
            setTimeout(() => {
                const error = {
                    type: 'APIError',
                    message: 'APIæœåŠ¡æš‚æ—¶ä¸å¯ç”¨',
                    statusCode: 503,
                    retryAfter: 30,
                    errorId: `err_${Date.now()}`
                };
                
                output('error-output', error, 'error');
                log('error', 'ğŸ”Œ APIé”™è¯¯å·²å¤„ç†');
            }, 800);
        }

        function testValidationError() {
            log('warning', 'âœï¸ æ¨¡æ‹ŸéªŒè¯é”™è¯¯...');
            
            const error = {
                type: 'ValidationError',
                message: 'è¾“å…¥æ•°æ®æ ¼å¼ä¸æ­£ç¡®',
                field: 'reviewReason',
                expectedFormat: 'string, 1-500 characters',
                actualValue: ''
            };
            
            output('error-output', error, 'warning');
            log('warning', 'âœï¸ éªŒè¯é”™è¯¯å·²å¤„ç†');
        }

        function testTimeoutError() {
            log('warning', 'â° æ¨¡æ‹Ÿè¶…æ—¶é”™è¯¯...');
            
            setTimeout(() => {
                const error = {
                    type: 'TimeoutError',
                    message: 'è¯·æ±‚è¶…æ—¶',
                    timeout: 30000,
                    elapsed: 30001,
                    autoRetry: true
                };
                
                output('error-output', error, 'warning');
                log('warning', 'â° è¶…æ—¶é”™è¯¯å·²å¤„ç†');
            }, 2000);
        }

        function testErrorRecovery() {
            log('info', 'ğŸ”§ æµ‹è¯•é”™è¯¯æ¢å¤...');
            
            setTimeout(() => {
                const recovery = {
                    errorRecovered: true,
                    recoveryMethod: 'automatic_retry',
                    recoveryTime: '2.3s',
                    dataIntegrity: 'maintained',
                    userNotified: true
                };
                
                output('error-output', recovery, 'success');
                log('success', 'ğŸ”§ é”™è¯¯æ¢å¤æˆåŠŸ');
            }, 1500);
        }

        // å·¥å…·å‡½æ•°
        function clearLogs() {
            document.getElementById('log-output').innerHTML = 'ç³»ç»Ÿæ—¥å¿—å°†åœ¨è¿™é‡Œæ˜¾ç¤º...';
            log('info', 'ğŸ—‘ï¸ æ—¥å¿—å·²æ¸…ç©º');
        }

        function exportLogs() {
            const logs = document.getElementById('log-output').innerHTML;
            const blob = new Blob([logs], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `quick-review-logs-${Date.now()}.html`;
            a.click();
            URL.revokeObjectURL(url);
            
            log('success', 'ğŸ“¤ æ—¥å¿—å·²å¯¼å‡º');
        }

        function toggleLogLevel(level) {
            const index = activeLogLevels.indexOf(level);
            if (index > -1) {
                activeLogLevels.splice(index, 1);
                log('info', `ğŸ“ å·²éšè— ${level} çº§åˆ«æ—¥å¿—`);
            } else {
                activeLogLevels.push(level);
                log('info', `ğŸ“ å·²æ˜¾ç¤º ${level} çº§åˆ«æ—¥å¿—`);
            }
        }

        // åˆå§‹åŒ–é”®ç›˜ç›‘å¬å™¨
        function initializeKeyboardListeners() {
            document.addEventListener('keydown', function(event) {
                const key = event.key.toLowerCase();
                let action = '';
                
                switch (key) {
                    case 'a':
                        action = 'æ‰¹å‡†';
                        testApprovalProcess();
                        break;
                    case 'r':
                        action = 'æ‹’ç»';
                        testRejectionProcess();
                        break;
                    case 'n':
                        action = 'ä¸‹ä¸€ä¸ª';
                        log('info', 'â¡ï¸ åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå†…å®¹');
                        break;
                    case 'p':
                        action = 'ä¸Šä¸€ä¸ª';
                        log('info', 'â¬…ï¸ åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªå†…å®¹');
                        break;
                    case 'f1':
                        action = 'å¸®åŠ©';
                        showKeyboardHelp();
                        event.preventDefault();
                        break;
                    case 'escape':
                        action = 'é€€å‡º';
                        log('info', 'ğŸšª é€€å‡ºå¿«é€Ÿå®¡æ ¸æ¨¡å¼');
                        break;
                    case ' ':
                        action = 'åˆ‡æ¢è‡ªåŠ¨æ¨¡å¼';
                        log('info', 'ğŸ”„ åˆ‡æ¢è‡ªåŠ¨å‰è¿›æ¨¡å¼');
                        event.preventDefault();
                        break;
                }
                
                if (action) {
                    testStats.keyboardUsage = Math.min(100, testStats.keyboardUsage + 1);
                    log('info', `âŒ¨ï¸ å¿«æ·é”®: ${key.toUpperCase()} - ${action}`);
                }
            });
        }
    </script>
</body>
</html>
