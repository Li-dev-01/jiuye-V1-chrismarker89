-- 故事墙模拟数据生成脚本
-- 用于验证版面布局和功能完整性
-- 创建时间: 2025-09-21

-- =====================================================
-- 1. 清理现有测试数据
-- =====================================================
DELETE FROM valid_stories WHERE user_id LIKE 'mock-user-%';
DELETE FROM raw_story_submissions WHERE user_id LIKE 'mock-user-%';

-- =====================================================
-- 2. 插入丰富的原始故事数据
-- =====================================================
INSERT INTO raw_story_submissions (id, data_uuid, user_id, title, content, category, tags, submitted_at, raw_status) VALUES
-- 求职经历类故事
(101, 'mock-story-001', 'mock-user-001', '从投递简历到收到心仪offer的90天', '大四上学期开始找工作，前两个月投了200多份简历，收到的回复寥寥无几。那段时间真的很焦虑，每天刷招聘网站，修改简历，准备各种面试。后来在学长的建议下，我开始针对性地投递简历，仔细研究每家公司的需求，定制化地写求职信。第三个月终于迎来了转机，连续收到了几家公司的面试邀请，最终拿到了心仪公司的offer。这段经历让我明白，求职不仅是技能的比拼，更是策略和坚持的较量。', 'job_search', '["求职经历", "简历投递", "面试技巧", "坚持不懈"]', datetime('now', '-45 days'), 'completed'),

(102, 'mock-story-002', 'mock-user-002', '三次面试失败后的反思与成长', '刚开始找工作时，我对自己很有信心，觉得凭借不错的成绩和项目经验，找工作应该不难。但现实给了我当头一棒，连续三次面试都以失败告终。第一次是技术面试准备不充分，第二次是对公司业务了解不够，第三次是沟通表达有问题。每次失败后我都会认真总结，找出问题所在，然后针对性地改进。经过这些挫折，我不仅提升了专业技能，更重要的是学会了如何更好地展示自己，如何与面试官有效沟通。', 'job_search', '["面试失败", "自我反思", "技能提升", "沟通能力"]', datetime('now', '-40 days'), 'completed'),

-- 转行经历类故事
(103, 'mock-story-003', 'mock-user-003', '从文科生到程序员的转行之路', '本科学的是中文系，毕业后在传统媒体工作了两年，但随着行业的变化，我意识到需要转型。经过深思熟虑，我决定转行做程序员。这个决定遭到了家人和朋友的质疑，但我还是坚持了下来。我利用业余时间自学编程，参加了培训班，做了很多练习项目。转行的过程很艰难，既要学习新技能，又要承受经济压力。但当我拿到第一份程序员工作的offer时，所有的努力都值得了。现在工作一年多了，虽然起薪不高，但我看到了清晰的发展前景。', 'career_change', '["转行", "程序员", "自学编程", "坚持梦想"]', datetime('now', '-35 days'), 'completed'),

(104, 'mock-story-004', 'mock-user-004', '从销售转向产品经理的华丽转身', '大学毕业后我做了三年销售，虽然业绩不错，但总觉得缺少什么。在一次偶然的机会中，我接触到了产品经理这个岗位，发现这正是我想要的工作。为了转行，我开始系统学习产品知识，阅读相关书籍，参加线上课程，还主动承担了一些产品相关的工作。在转行过程中，我的销售经验反而成了优势，因为我更了解用户需求，更懂得如何与不同的人沟通。现在作为产品经理，我能够将用户需求转化为产品功能，这种成就感是之前做销售时从未有过的。', 'career_change', '["销售转产品", "产品经理", "用户需求", "职业转型"]', datetime('now', '-30 days'), 'completed'),

-- 创业故事类
(105, 'mock-story-005', 'mock-user-005', '大学生创业：从想法到现实的艰难历程', '大三时和室友一起有了创业的想法，我们想做一个校园服务平台。从最初的头脑风暴到产品原型，从寻找投资到组建团队，每一步都充满挑战。我们没有经验，没有资源，只有满腔热情。在创业过程中，我们遇到了技术难题、资金短缺、团队分歧等各种问题。虽然最终项目没有成功，但这段经历让我学到了很多，包括项目管理、团队协作、市场分析等。现在我在一家互联网公司工作，但创业的经历让我在工作中更有全局观念，也更能理解公司的运营逻辑。', 'entrepreneurship', '["大学生创业", "校园服务", "团队协作", "经验积累"]', datetime('now', '-25 days'), 'completed'),

-- 职场生活类故事
(106, 'mock-story-006', 'mock-user-006', '初入职场的那些坑和成长', '刚入职时，我以为凭借在学校的优异表现，在职场上也能游刃有余。但现实很快给了我教训。第一个月就因为不熟悉公司流程而犯了几个低级错误，被领导批评了好几次。那段时间我很沮丧，甚至怀疑自己的能力。但同事们都很友善，他们耐心地教我工作技巧，分享职场经验。慢慢地，我开始适应职场节奏，学会了如何与不同性格的同事相处，如何高效地完成工作任务。现在回想起来，那些初期的挫折都是宝贵的财富，让我更快地成长为一个合格的职场人。', 'workplace_life', '["职场新人", "工作适应", "同事关系", "个人成长"]', datetime('now', '-20 days'), 'completed'),

(107, 'mock-story-007', 'mock-user-007', '远程工作一年的真实体验', '疫情期间开始远程工作，一开始觉得很自由，不用通勤，可以自由安排时间。但慢慢发现远程工作也有很多挑战。首先是沟通效率的问题，很多事情需要反复确认，缺少面对面交流的即时性。其次是工作与生活界限的模糊，经常在家里也会想工作的事情。还有就是团队协作的困难，缺少线下的头脑风暴和随时讨论。不过，远程工作也让我学会了更好的时间管理和自我驱动，提高了独立解决问题的能力。总的来说，远程工作有利有弊，关键是要找到适合自己的工作方式。', 'workplace_life', '["远程工作", "时间管理", "团队协作", "工作生活平衡"]', datetime('now', '-15 days'), 'completed'),

-- 技能成长类故事
(108, 'mock-story-008', 'mock-user-008', '从零基础到数据分析师的学习之路', '工作两年后，我发现数据分析能力对职业发展很重要，但我的专业背景是市场营销，对数据分析几乎一窍不通。于是我决定系统学习数据分析技能。我先从Excel开始，然后学习SQL，再到Python和R语言。每天下班后都会花2-3小时学习，周末则会做一些实际项目练习。学习过程中最大的挑战是统计学基础薄弱，很多概念理解起来比较困难。但我没有放弃，通过看视频、读书、做练习，一点点地积累。半年后，我开始在工作中运用数据分析技能，效果很好。现在我已经成功转岗为数据分析师，薪资也有了显著提升。', 'skill_growth', '["数据分析", "自学成才", "技能转型", "持续学习"]', datetime('now', '-10 days'), 'completed'),

-- 面试经验类故事
(109, 'mock-story-009', 'mock-user-009', '那些年我遇到的奇葩面试官和面试题', '找工作期间参加了大大小小几十场面试，遇到了各种各样的面试官和面试题。有的面试官很专业，会深入了解你的项目经验和技术能力；有的面试官则比较随意，聊天式的面试让人很放松。最难忘的是一次技术面试，面试官出了一道很有挑战性的算法题，我当时没有完全做出来，但面试官看重的是我的思路和解决问题的方法。还有一次面试，面试官问我如果公司倒闭了我会怎么办，这种问题让我哭笑不得。通过这些面试经历，我学会了如何在不同的面试环境中展示自己的优势，也明白了面试不仅是公司选择员工，也是员工选择公司的过程。', 'interview', '["面试经验", "面试技巧", "算法题", "双向选择"]', datetime('now', '-5 days'), 'completed'),

-- 职业规划类故事
(110, 'mock-story-010', 'mock-user-010', '考研还是工作？我的选择和思考', '大四时面临人生的重要选择：是继续深造还是直接工作？当时周围的同学有的选择考研，有的选择出国，有的选择工作，每个人都有自己的理由。我纠结了很久，一方面觉得研究生学历会有更好的发展前景，另一方面又担心错过最佳的就业时机。最终我选择了先工作，理由是想早点接触社会，积累实际工作经验。现在工作两年了，我觉得这个选择是对的。虽然学历上可能不如研究生有优势，但我有了两年的工作经验，对行业的理解更深入，也更清楚自己的职业方向。如果以后有需要，我还可以选择在职读研。', 'career_planning', '["考研vs工作", "职业规划", "人生选择", "经验积累"]', datetime('now', '-2 days'), 'completed');

-- =====================================================
-- 3. 插入对应的有效故事数据
-- =====================================================
INSERT INTO valid_stories (
    id, raw_id, data_uuid, user_id, title, content, category, tags, author_name,
    audit_status, approved_at, like_count, dislike_count, view_count, is_featured, published_at
) VALUES
(101, 101, 'mock-story-001', 'mock-user-001', '从投递简历到收到心仪offer的90天', '大四上学期开始找工作，前两个月投了200多份简历，收到的回复寥寥无几。那段时间真的很焦虑，每天刷招聘网站，修改简历，准备各种面试。后来在学长的建议下，我开始针对性地投递简历，仔细研究每家公司的需求，定制化地写求职信。第三个月终于迎来了转机，连续收到了几家公司的面试邀请，最终拿到了心仪公司的offer。这段经历让我明白，求职不仅是技能的比拼，更是策略和坚持的较量。', 'job_search', '["求职经历", "简历投递", "面试技巧", "坚持不懈"]', '求职达人小李', 'approved', datetime('now', '-45 days'), 289, 12, 3456, 1, datetime('now', '-45 days')),

(102, 102, 'mock-story-002', 'mock-user-002', '三次面试失败后的反思与成长', '刚开始找工作时，我对自己很有信心，觉得凭借不错的成绩和项目经验，找工作应该不难。但现实给了我当头一棒，连续三次面试都以失败告终。第一次是技术面试准备不充分，第二次是对公司业务了解不够，第三次是沟通表达有问题。每次失败后我都会认真总结，找出问题所在，然后针对性地改进。经过这些挫折，我不仅提升了专业技能，更重要的是学会了如何更好地展示自己，如何与面试官有效沟通。', 'job_search', '["面试失败", "自我反思", "技能提升", "沟通能力"]', '反思小王', 'approved', datetime('now', '-40 days'), 234, 8, 2876, 0, datetime('now', '-40 days')),

(103, 103, 'mock-story-003', 'mock-user-003', '从文科生到程序员的转行之路', '本科学的是中文系，毕业后在传统媒体工作了两年，但随着行业的变化，我意识到需要转型。经过深思熟虑，我决定转行做程序员。这个决定遭到了家人和朋友的质疑，但我还是坚持了下来。我利用业余时间自学编程，参加了培训班，做了很多练习项目。转行的过程很艰难，既要学习新技能，又要承受经济压力。但当我拿到第一份程序员工作的offer时，所有的努力都值得了。现在工作一年多了，虽然起薪不高，但我看到了清晰的发展前景。', 'career_change', '["转行", "程序员", "自学编程", "坚持梦想"]', '转行张三', 'approved', datetime('now', '-35 days'), 456, 15, 4321, 1, datetime('now', '-35 days')),

(104, 104, 'mock-story-004', 'mock-user-004', '从销售转向产品经理的华丽转身', '大学毕业后我做了三年销售，虽然业绩不错，但总觉得缺少什么。在一次偶然的机会中，我接触到了产品经理这个岗位，发现这正是我想要的工作。为了转行，我开始系统学习产品知识，阅读相关书籍，参加线上课程，还主动承担了一些产品相关的工作。在转行过程中，我的销售经验反而成了优势，因为我更了解用户需求，更懂得如何与不同的人沟通。现在作为产品经理，我能够将用户需求转化为产品功能，这种成就感是之前做销售时从未有过的。', 'career_change', '["销售转产品", "产品经理", "用户需求", "职业转型"]', '产品李四', 'approved', datetime('now', '-30 days'), 198, 6, 2543, 0, datetime('now', '-30 days')),

(105, 105, 'mock-story-005', 'mock-user-005', '大学生创业：从想法到现实的艰难历程', '大三时和室友一起有了创业的想法，我们想做一个校园服务平台。从最初的头脑风暴到产品原型，从寻找投资到组建团队，每一步都充满挑战。我们没有经验，没有资源，只有满腔热情。在创业过程中，我们遇到了技术难题、资金短缺、团队分歧等各种问题。虽然最终项目没有成功，但这段经历让我学到了很多，包括项目管理、团队协作、市场分析等。现在我在一家互联网公司工作，但创业的经历让我在工作中更有全局观念，也更能理解公司的运营逻辑。', 'entrepreneurship', '["大学生创业", "校园服务", "团队协作", "经验积累"]', '创业王五', 'approved', datetime('now', '-25 days'), 167, 9, 1987, 0, datetime('now', '-25 days')),

(106, 106, 'mock-story-006', 'mock-user-006', '初入职场的那些坑和成长', '刚入职时，我以为凭借在学校的优异表现，在职场上也能游刃有余。但现实很快给了我教训。第一个月就因为不熟悉公司流程而犯了几个低级错误，被领导批评了好几次。那段时间我很沮丧，甚至怀疑自己的能力。但同事们都很友善，他们耐心地教我工作技巧，分享职场经验。慢慢地，我开始适应职场节奏，学会了如何与不同性格的同事相处，如何高效地完成工作任务。现在回想起来，那些初期的挫折都是宝贵的财富，让我更快地成长为一个合格的职场人。', 'workplace_life', '["职场新人", "工作适应", "同事关系", "个人成长"]', '职场新人赵六', 'approved', datetime('now', '-20 days'), 312, 4, 2765, 0, datetime('now', '-20 days')),

(107, 107, 'mock-story-007', 'mock-user-007', '远程工作一年的真实体验', '疫情期间开始远程工作，一开始觉得很自由，不用通勤，可以自由安排时间。但慢慢发现远程工作也有很多挑战。首先是沟通效率的问题，很多事情需要反复确认，缺少面对面交流的即时性。其次是工作与生活界限的模糊，经常在家里也会想工作的事情。还有就是团队协作的困难，缺少线下的头脑风暴和随时讨论。不过，远程工作也让我学会了更好的时间管理和自我驱动，提高了独立解决问题的能力。总的来说，远程工作有利有弊，关键是要找到适合自己的工作方式。', 'workplace_life', '["远程工作", "时间管理", "团队协作", "工作生活平衡"]', '远程工作者孙七', 'approved', datetime('now', '-15 days'), 278, 11, 3210, 1, datetime('now', '-15 days')),

(108, 108, 'mock-story-008', 'mock-user-008', '从零基础到数据分析师的学习之路', '工作两年后，我发现数据分析能力对职业发展很重要，但我的专业背景是市场营销，对数据分析几乎一窍不通。于是我决定系统学习数据分析技能。我先从Excel开始，然后学习SQL，再到Python和R语言。每天下班后都会花2-3小时学习，周末则会做一些实际项目练习。学习过程中最大的挑战是统计学基础薄弱，很多概念理解起来比较困难。但我没有放弃，通过看视频、读书、做练习，一点点地积累。半年后，我开始在工作中运用数据分析技能，效果很好。现在我已经成功转岗为数据分析师，薪资也有了显著提升。', 'skill_growth', '["数据分析", "自学成才", "技能转型", "持续学习"]', '数据达人周八', 'approved', datetime('now', '-10 days'), 389, 7, 4567, 1, datetime('now', '-10 days')),

(109, 109, 'mock-story-009', 'mock-user-009', '那些年我遇到的奇葩面试官和面试题', '找工作期间参加了大大小小几十场面试，遇到了各种各样的面试官和面试题。有的面试官很专业，会深入了解你的项目经验和技术能力；有的面试官则比较随意，聊天式的面试让人很放松。最难忘的是一次技术面试，面试官出了一道很有挑战性的算法题，我当时没有完全做出来，但面试官看重的是我的思路和解决问题的方法。还有一次面试，面试官问我如果公司倒闭了我会怎么办，这种问题让我哭笑不得。通过这些面试经历，我学会了如何在不同的面试环境中展示自己的优势，也明白了面试不仅是公司选择员工，也是员工选择公司的过程。', 'interview', '["面试经验", "面试技巧", "算法题", "双向选择"]', '面试专家吴九', 'approved', datetime('now', '-5 days'), 156, 3, 1876, 0, datetime('now', '-5 days')),

(110, 110, 'mock-story-010', 'mock-user-010', '考研还是工作？我的选择和思考', '大四时面临人生的重要选择：是继续深造还是直接工作？当时周围的同学有的选择考研，有的选择出国，有的选择工作，每个人都有自己的理由。我纠结了很久，一方面觉得研究生学历会有更好的发展前景，另一方面又担心错过最佳的就业时机。最终我选择了先工作，理由是想早点接触社会，积累实际工作经验。现在工作两年了，我觉得这个选择是对的。虽然学历上可能不如研究生有优势，但我有了两年的工作经验，对行业的理解更深入，也更清楚自己的职业方向。如果以后有需要，我还可以选择在职读研。', 'career_planning', '["考研vs工作", "职业规划", "人生选择", "经验积累"]', '选择困难户郑十', 'approved', datetime('now', '-2 days'), 223, 5, 2345, 0, datetime('now', '-2 days'));

-- =====================================================
-- 4. 验证数据插入结果
-- =====================================================
SELECT 
    '模拟数据插入完成' as message,
    (SELECT COUNT(*) FROM valid_stories WHERE user_id LIKE 'mock-user-%') as valid_stories_count,
    (SELECT COUNT(*) FROM raw_story_submissions WHERE user_id LIKE 'mock-user-%') as raw_stories_count;

-- 按分类统计
SELECT 
    category,
    COUNT(*) as story_count,
    AVG(like_count) as avg_likes,
    AVG(view_count) as avg_views
FROM valid_stories 
WHERE user_id LIKE 'mock-user-%'
GROUP BY category
ORDER BY story_count DESC;
