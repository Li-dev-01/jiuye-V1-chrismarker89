# ç”¨æˆ·ç³»ç»Ÿåˆ†ææŠ¥å‘Š

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

æœ¬ç³»ç»ŸåŒ…å«**ä¸¤ä¸ªç‹¬ç«‹çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**ï¼Œåˆ†åˆ«ç”¨äºä¸åŒçš„ç›®çš„ï¼š

1. **è§’è‰²è´¦å·ç³»ç»Ÿ** - ç”¨äºç®¡ç†å‘˜ã€å®¡æ ¸å‘˜ã€è¶…çº§ç®¡ç†å‘˜ç™»å½•
2. **æ™®é€šç”¨æˆ·ç³»ç»Ÿ** - ç”¨äºå­¦ç”Ÿã€å¡«é—®å·çš„æ™®é€šç”¨æˆ·

---

## ğŸ” ç³»ç»ŸAï¼šè§’è‰²è´¦å·ç³»ç»Ÿï¼ˆç®¡ç†å‘˜ç™»å½•ï¼‰

### æ•°æ®åº“è¡¨
- `email_whitelist` - é‚®ç®±ç™½åå•
- `role_accounts` - è§’è‰²è´¦å·

### ç®¡ç†é¡µé¢
- `/admin/email-role-accounts` - é‚®ç®±å’Œè§’è‰²è´¦å·ç®¡ç†

### å½“å‰å¯ç™»å½•çš„è´¦å·ï¼ˆ9ä¸ªï¼‰

| é‚®ç®± | è§’è‰² | ç”¨æˆ·å | å¯†ç ç™»å½• | 2FA | çŠ¶æ€ |
|------|------|--------|----------|-----|------|
| chrismarker89@gmail.com | super_admin | superadmin_chris | âœ… | å·²å¯ç”¨ | æ¿€æ´» |
| chrismarker89@gmail.com | admin | admin_chris | âœ… | å·²å¯ç”¨ | æ¿€æ´» |
| chrismarker89@gmail.com | reviewer | reviewer_chris | âœ… | å·²å¯ç”¨ | æ¿€æ´» |
| chiangseeta@gmail.com | admin | admin_chiangseeta | âŒ (ä»…Google) | æœªç»‘å®š | æ¿€æ´» |
| chiangseeta@gmail.com | reviewer | reviewer_chiangseeta | âŒ (ä»…Google) | æœªç»‘å®š | æ¿€æ´» |
| aibook2099@gmail.com | super_admin | superadmin_aibook | âŒ (ä»…Google) | æœªç»‘å®š | æ¿€æ´» |
| aibook2099@gmail.com | admin | admin_aibook2099 | âŒ (ä»…Google) | æœªç»‘å®š | æ¿€æ´» |
| aibook2099@gmail.com | reviewer | reviewer_aibook2099 | âŒ (ä»…Google) | æœªç»‘å®š | æ¿€æ´» |
| justpm2099@gmail.com | super_admin | superadmin_justpm | âŒ (ä»…Google) | æœªç»‘å®š | æ¿€æ´» |

### ç™»å½•æ–¹å¼
1. **Google OAuth** - æ‰€æœ‰4ä¸ªé‚®ç®±éƒ½å¯ä»¥ä½¿ç”¨
2. **ç”¨æˆ·å+å¯†ç ** - ä»… chrismarker89@gmail.com çš„3ä¸ªè´¦å·å¯ä»¥ä½¿ç”¨

### æƒé™è¯´æ˜
- **super_admin** - è¶…çº§ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™
- **admin** - ç®¡ç†å‘˜ï¼Œå¯ä»¥ç®¡ç†ç”¨æˆ·ã€é—®å·ã€æ•…äº‹ç­‰
- **reviewer** - å®¡æ ¸å‘˜ï¼Œåªèƒ½å®¡æ ¸é—®å·å’Œæ•…äº‹

---

## ğŸ‘¥ ç³»ç»ŸBï¼šæ™®é€šç”¨æˆ·ç³»ç»Ÿï¼ˆå­¦ç”Ÿç”¨æˆ·ï¼‰

### æ•°æ®åº“è¡¨
- `universal_users` - ç»Ÿä¸€ç”¨æˆ·è¡¨

### ç®¡ç†é¡µé¢
- `/admin/users` - ç”¨æˆ·ç®¡ç†ï¼ˆçœŸå®æ•°æ®ï¼‰

### å½“å‰æ•°æ®åº“ä¸­çš„ç”¨æˆ·ï¼ˆ39ä¸ªï¼‰

#### 1. æµ‹è¯•ç®¡ç†å‘˜è´¦å·ï¼ˆ3ä¸ªï¼‰
| UUID | ç”¨æˆ·å | æ˜¾ç¤ºåç§° | ç±»å‹ | çŠ¶æ€ |
|------|--------|----------|------|------|
| super-550e8400-e29b-41d4-a716-446655440000 | superadmin | è¶…çº§ç®¡ç†å‘˜ | super_admin | active |
| admin-550e8400-e29b-41d4-a716-446655440001 | admin1 | ç®¡ç†å‘˜ | admin | active |
| rev-550e8400-e29b-41d4-a716-446655440002 | reviewerA | å®¡æ ¸å‘˜A | reviewer | active |

#### 2. Googleç™»å½•çš„è¶…çº§ç®¡ç†å‘˜ï¼ˆ1ä¸ªï¼‰
| UUID | æ˜¾ç¤ºåç§° | ç±»å‹ | çŠ¶æ€ |
|------|----------|------|------|
| super-e548bc71-e05e-4fdd-98a7-bac910f036bc | MARKER CHRIS | super_admin | active |

#### 3. åŠåŒ¿åç”¨æˆ·ï¼ˆ35ä¸ªï¼‰
- ç±»å‹ï¼š`semi_anonymous`
- çŠ¶æ€ï¼š`active`
- æ¥æºï¼šå¡«å†™é—®å·çš„å­¦ç”Ÿ

### ç”¨æˆ·ç±»å‹
- `super_admin` - è¶…çº§ç®¡ç†å‘˜
- `admin` - ç®¡ç†å‘˜
- `reviewer` - å®¡æ ¸å‘˜
- `semi_anonymous` - åŠåŒ¿åç”¨æˆ·ï¼ˆå¡«é—®å·çš„å­¦ç”Ÿï¼‰

---

## ğŸ” ç­›é€‰åŠŸèƒ½åˆ†æ

### é—®é¢˜å‘ç°
å‰ç«¯å‘é€çš„å‚æ•°åä¸åç«¯æœŸæœ›çš„å‚æ•°åä¸ä¸€è‡´ï¼š

| åŠŸèƒ½ | å‰ç«¯å‚æ•° | åç«¯æœŸæœ› | çŠ¶æ€ |
|------|----------|----------|------|
| åˆ†é¡µå¤§å° | `pageSize` | `limit` æˆ– `pageSize` | âœ… å·²ä¿®å¤ |
| è§’è‰²ç­›é€‰ | `userType` | `role` æˆ– `userType` | âœ… å·²ä¿®å¤ |
| çŠ¶æ€ç­›é€‰ | `status` | `status` | âœ… æ­£å¸¸ |
| æœç´¢ | `search` | `search` | âœ… æ­£å¸¸ |

### ä¿®å¤å†…å®¹
åœ¨ `backend/src/routes/simpleAdmin.ts` ä¸­æ·»åŠ äº†å‚æ•°å…¼å®¹æ€§ï¼š

```typescript
const limit = parseInt(c.req.query('limit') || c.req.query('pageSize') || '50');
const role = c.req.query('role') || c.req.query('userType') || '';
```

---

## ğŸ¯ ç­›é€‰åŠŸèƒ½æµ‹è¯•

### æµ‹è¯•åœºæ™¯

#### 1. æŒ‰è§’è‰²ç­›é€‰
- **å®¡æ ¸å‘˜** (`reviewer`) - åº”è¯¥æ˜¾ç¤º 1 ä¸ªç”¨æˆ·ï¼ˆreviewerAï¼‰
- **ç®¡ç†å‘˜** (`admin`) - åº”è¯¥æ˜¾ç¤º 1 ä¸ªç”¨æˆ·ï¼ˆadmin1ï¼‰
- **è¶…çº§ç®¡ç†å‘˜** (`super_admin`) - åº”è¯¥æ˜¾ç¤º 2 ä¸ªç”¨æˆ·ï¼ˆsuperadmin, MARKER CHRISï¼‰
- **åŠåŒ¿åç”¨æˆ·** (`semi_anonymous`) - åº”è¯¥æ˜¾ç¤º 35 ä¸ªç”¨æˆ·

#### 2. æŒ‰çŠ¶æ€ç­›é€‰
- **æ¿€æ´»** (`active`) - åº”è¯¥æ˜¾ç¤º 39 ä¸ªç”¨æˆ·ï¼ˆæ‰€æœ‰ç”¨æˆ·ï¼‰
- **æœªæ¿€æ´»** (`inactive`) - åº”è¯¥æ˜¾ç¤º 0 ä¸ªç”¨æˆ·
- **å·²ç¦ç”¨** (`banned`) - åº”è¯¥æ˜¾ç¤º 0 ä¸ªç”¨æˆ·

#### 3. æœç´¢åŠŸèƒ½
- æœç´¢ "superadmin" - åº”è¯¥æ˜¾ç¤º 1 ä¸ªç”¨æˆ·
- æœç´¢ "MARKER" - åº”è¯¥æ˜¾ç¤º 1 ä¸ªç”¨æˆ·
- æœç´¢ "åŠåŒ¿å" - åº”è¯¥æ˜¾ç¤º 35 ä¸ªç”¨æˆ·

---

## âš ï¸ é‡è¦è¯´æ˜

### ä¸¤ä¸ªç³»ç»Ÿçš„åŒºåˆ«

| ç‰¹æ€§ | è§’è‰²è´¦å·ç³»ç»Ÿ | æ™®é€šç”¨æˆ·ç³»ç»Ÿ |
|------|-------------|-------------|
| ç”¨é€” | ç®¡ç†å‘˜ç™»å½• | å­¦ç”Ÿå¡«é—®å· |
| ç™»å½•æ–¹å¼ | Google OAuth / ç”¨æˆ·åå¯†ç  | åŠåŒ¿åï¼ˆæ— éœ€ç™»å½•ï¼‰ |
| æ•°æ®è¡¨ | `email_whitelist`, `role_accounts` | `universal_users` |
| ç®¡ç†é¡µé¢ | `/admin/email-role-accounts` | `/admin/users` |
| ç”¨æˆ·æ•°é‡ | 9 ä¸ªè§’è‰²è´¦å·ï¼ˆ4ä¸ªé‚®ç®±ï¼‰ | 39 ä¸ªç”¨æˆ· |
| 2FAæ”¯æŒ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |

### ç™»å½•æƒé™æ€»ç»“

**å¯ä»¥ç™»å½•ç®¡ç†åå°çš„è´¦å·ï¼š**
1. chrismarker89@gmail.comï¼ˆ3ä¸ªè§’è‰²ï¼Œæ”¯æŒå¯†ç +2FAï¼‰
2. chiangseeta@gmail.comï¼ˆ2ä¸ªè§’è‰²ï¼Œä»…Googleï¼‰
3. aibook2099@gmail.comï¼ˆ3ä¸ªè§’è‰²ï¼Œä»…Googleï¼‰
4. justpm2099@gmail.comï¼ˆ1ä¸ªè§’è‰²ï¼Œä»…Googleï¼‰

**ä¸èƒ½ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·ï¼š**
- æ‰€æœ‰ `universal_users` è¡¨ä¸­çš„ç”¨æˆ·ï¼ˆåŒ…æ‹¬35ä¸ªåŠåŒ¿åç”¨æˆ·ï¼‰
- è¿™äº›ç”¨æˆ·åªæ˜¯å¡«é—®å·çš„å­¦ç”Ÿï¼Œä¸æ˜¯ç®¡ç†å‘˜

---

## ğŸ“ å»ºè®®

### 1. æ•°æ®æ¸…ç†
å¦‚æœæµ‹è¯•ç®¡ç†å‘˜è´¦å·ï¼ˆsuperadmin, admin1, reviewerAï¼‰ä¸å†éœ€è¦ï¼Œå¯ä»¥ä» `universal_users` è¡¨ä¸­åˆ é™¤ï¼š

```sql
DELETE FROM universal_users 
WHERE uuid IN (
  'super-550e8400-e29b-41d4-a716-446655440000',
  'admin-550e8400-e29b-41d4-a716-446655440001',
  'rev-550e8400-e29b-41d4-a716-446655440002'
);
```

### 2. ç”¨æˆ·ç•Œé¢ä¼˜åŒ–
åœ¨ `/admin/users` é¡µé¢æ·»åŠ è¯´æ˜ï¼Œæ˜ç¡®è¿™æ˜¯"æ™®é€šç”¨æˆ·ç®¡ç†"è€Œä¸æ˜¯"ç®¡ç†å‘˜è´¦å·ç®¡ç†"ã€‚

### 3. ç­›é€‰åŠŸèƒ½å¢å¼º
è€ƒè™‘æ·»åŠ æ›´å¤šç­›é€‰é€‰é¡¹ï¼š
- æŒ‰åˆ›å»ºæ—¶é—´èŒƒå›´ç­›é€‰
- æŒ‰æœ€åç™»å½•æ—¶é—´ç­›é€‰
- æŒ‰é—®å·å®Œæˆæ•°é‡ç­›é€‰

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### APIç«¯ç‚¹
- **è§’è‰²è´¦å·ç®¡ç†**: `/api/admin/email-role-accounts/*`
- **æ™®é€šç”¨æˆ·ç®¡ç†**: `/api/simple-admin/users`

### æ•°æ®åº“æŸ¥è¯¢
```sql
-- æŸ¥çœ‹æ‰€æœ‰è§’è‰²è´¦å·
SELECT * FROM role_accounts ORDER BY email, role;

-- æŸ¥çœ‹æ‰€æœ‰é‚®ç®±ç™½åå•
SELECT * FROM email_whitelist ORDER BY email;

-- æŸ¥çœ‹æ‰€æœ‰æ™®é€šç”¨æˆ·
SELECT * FROM universal_users ORDER BY created_at DESC;

-- æŒ‰ç±»å‹ç»Ÿè®¡ç”¨æˆ·
SELECT user_type, COUNT(*) as count 
FROM universal_users 
GROUP BY user_type;
```

---

## âœ… éªŒè¯æ¸…å•

- [x] ç¡®è®¤è§’è‰²è´¦å·ç³»ç»Ÿä¸­çš„9ä¸ªè´¦å·éƒ½å¯ä»¥ç™»å½•
- [x] ç¡®è®¤æ™®é€šç”¨æˆ·ç³»ç»Ÿä¸­æœ‰39ä¸ªç”¨æˆ·
- [x] ä¿®å¤ç­›é€‰åŠŸèƒ½çš„å‚æ•°ä¸åŒ¹é…é—®é¢˜
- [x] éƒ¨ç½²åç«¯æ›´æ–°
- [ ] æµ‹è¯•ç­›é€‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ
- [ ] éªŒè¯æœç´¢åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ
- [ ] æ£€æŸ¥åˆ†é¡µåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ

---

**ç”Ÿæˆæ—¶é—´**: 2025-10-06  
**ç‰ˆæœ¬**: 1.0  
**çŠ¶æ€**: å·²ä¿®å¤ç­›é€‰åŠŸèƒ½ï¼Œå¾…æµ‹è¯•éªŒè¯

